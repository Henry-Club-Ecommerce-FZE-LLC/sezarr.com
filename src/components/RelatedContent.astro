---
interface Props {
  title: string;
  articles: {
    href: string;
    label: string;
    description?: string;
    category?: string;
    date?: string;
  }[];
}

const { title, articles } = Astro.props;
---

<aside class="mt-8 pt-8 border-t dark:border-gray-700" role="complementary" aria-labelledby="related-content-title">
  <h2 id="related-content-title" class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">{title}</h2>
  <ul class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3" role="list">
    {articles.map((article) => (
      <li>
        <article class="h-full">
          <a 
            href={article.href}
            class="block h-full p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 transition-colors hover:bg-gray-50 dark:hover:bg-gray-800"
            aria-current={Astro.url.pathname === article.href ? 'page' : undefined}
          >
            <h3 class="text-base font-medium text-gray-900 dark:text-gray-100">{article.label}</h3>
            {article.description && (
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-400 line-clamp-2">{article.description}</p>
            )}
            <div class="mt-3 flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400">
              {article.category && (
                <span class="px-2 py-1 rounded bg-gray-100 dark:bg-gray-800">{article.category}</span>
              )}
              {article.date && (
                <time datetime={new Date(article.date).toISOString()}>
                  {new Date(article.date).toLocaleDateString('en-US', { 
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                  })}
                </time>
              )}
            </div>
          </a>
        </article>
      </li>
    ))}
  </ul>
</aside>