---
import { SITE } from '../config/site';

// Generate comprehensive organization schema
const organizationSchema = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "@id": `${SITE.URL}/#organization`,
  "name": SITE.NAME,
  "alternateName": "Sezarr Insurance Guide",
  "description": "Your smart insurance guide providing expert insights, tools, and comparisons for all insurance needs.",
  "url": SITE.URL,
  "logo": {
    "@type": "ImageObject",
    "url": `${SITE.URL}/logo-512.png`,
    "width": 512,
    "height": 512
  },
  "image": {
    "@type": "ImageObject",
    "url": `${SITE.URL}/og-default.jpg`,
    "width": 1200,
    "height": 630
  },
  "sameAs": [
    SITE.SOCIAL.TWITTER ? `https://twitter.com/${SITE.SOCIAL.TWITTER.replace('@', '')}` : null
  ].filter(Boolean),
  "contactPoint": {
    "@type": "ContactPoint",
    "contactType": "customer service",
    "availableLanguage": "English"
  },
  "areaServed": {
    "@type": "Country",
    "name": "United States"
  },
  "knowsAbout": [
    "Auto Insurance",
    "Health Insurance", 
    "Life Insurance",
    "Homeowners Insurance",
    "Insurance Comparison",
    "Insurance Rates",
    "Insurance Coverage"
  ],
  "makesOffer": {
    "@type": "Offer",
    "itemOffered": {
      "@type": "Service",
      "name": "Insurance Information and Comparison Services",
      "description": "Free insurance guides, calculators, and comparison tools"
    },
    "price": "0",
    "priceCurrency": "USD"
  }
};

// Website schema
const websiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "@id": `${SITE.URL}/#website`,
  "name": SITE.NAME,
  "description": "Smart insurance decisions made simple with expert guides and tools.",
  "url": SITE.URL,
  "publisher": {
    "@id": `${SITE.URL}/#organization`
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": `${SITE.URL}/search?q={search_term_string}`
    },
    "query-input": "required name=search_term_string"
  },
  "inLanguage": "en-US"
};

// Breadcrumb list schema for navigation
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": SITE.URL
    },
    {
      "@type": "ListItem", 
      "position": 2,
      "name": "Insurance Tools",
      "item": `${SITE.URL}/tools/`
    },
    {
      "@type": "ListItem",
      "position": 3, 
      "name": "Insurance Guides",
      "item": `${SITE.URL}/posts/`
    }
  ]
};

const schemas = [organizationSchema, websiteSchema, breadcrumbSchema];
---

<script type="application/ld+json" set:html={JSON.stringify(schemas)} />