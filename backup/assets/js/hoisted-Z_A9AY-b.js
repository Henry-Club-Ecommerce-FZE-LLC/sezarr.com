SITE,document.addEventListener("DOMContentLoaded",()=>{document.getElementById("auto-calc-form");const e=document.getElementById("calculate-btn"),t=document.getElementById("results");e.addEventListener("click",()=>{const e=parseInt(document.getElementById("vehicle-value").value)||25e3,n=document.getElementById("vehicle-age").value,i=document.getElementById("loan-status").value,a=document.getElementById("net-worth").value,o=document.getElementById("income").value,r=((e,t,n,i,a,o)=>{let r,s,c,l,d,u=!1,m=[];return"very-high"===i||"very-high"===a?(r="$500,000",s="$1,000,000",c="$100,000",m.push("High liability limits protect your significant assets from lawsuits.")):"high"===i||"high"===a?(r="$250,000",s="$500,000",c="$50,000",m.push("Higher liability limits recommended to protect your assets.")):"medium"===i||"medium"===a?(r="$100,000",s="$300,000",c="$25,000",m.push("Moderate liability limits provide good protection for your income level.")):(r="$50,000",s="$100,000",c="$25,000",m.push("State minimum may be sufficient given your current assets.")),"CA"!==o&&"NY"!==o||m.push("Your state has higher average claim costs, consider higher limits."),"financed"===n?(u=!0,m.push("Lender requires comprehensive and collision coverage.")):e>1e4?(u=!0,m.push("Vehicle value justifies full coverage protection.")):"old"===t&&5e3>e?(u=!1,m.push("Older vehicle may not need full coverage - compare premiums vs. value.")):u=!0,"very-high"===a||"very-high"===i?(l="$1,000",d="$1,000",m.push("Higher deductibles reduce premiums and you can afford out-of-pocket costs.")):"high"===a||"high"===i?(l="$500",d="$500"):(l="$250",d="$250",m.push("Lower deductibles reduce financial shock if you need to file a claim.")),{liabilityPerson:r,liabilityAccident:s,propertyDamage:c,compDeductible:l,collisionDeductible:d,needsFullCoverage:u?"Yes":"No",explanation:m.join(" ")}})(e,n,i,a,o,document.getElementById("state").value);(e=>{document.getElementById("liability-person").textContent=e.liabilityPerson,document.getElementById("liability-accident").textContent=e.liabilityAccident,document.getElementById("property-damage").textContent=e.propertyDamage,document.getElementById("comp-deductible").textContent=e.compDeductible,document.getElementById("collision-deductible").textContent=e.collisionDeductible,document.getElementById("full-coverage").textContent=e.needsFullCoverage,document.getElementById("explanation").textContent=e.explanation,t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})})(r),"undefined"!=typeof gtag&&gtag("event","calculator_use",{event_category:"engagement",event_label:"auto_insurance_calculator",custom_parameters:{vehicle_value:e,net_worth:a,income:o}})}),document.getElementById("share-results").addEventListener("click",()=>{const e=window.location.href,t="I just calculated my auto insurance needs! Check out this helpful calculator.";navigator.share?navigator.share({title:"Auto Insurance Calculator Results",text:t,url:e}):navigator.clipboard.writeText(t+" "+e).then(()=>{alert("Results copied to clipboard!")})})}),document.addEventListener("DOMContentLoaded",()=>{function e(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}document.getElementById("life-calc-form");const t=document.getElementById("calculate-life-btn"),n=document.getElementById("life-results");t.addEventListener("click",()=>{const t=parseInt(document.getElementById("annual-income").value)||0,i=(document.getElementById("current-savings"),parseInt(document.getElementById("total-debts").value)||0),a=(document.getElementById("monthly-expenses"),parseInt(document.getElementById("your-age").value)),o=parseInt(document.getElementById("spouse-income").value)||0,r=parseInt(document.getElementById("num-children").value),s=((t,n,i,a,o,r,s,c,l)=>{let d=0,u=i,m=0,p=[];const v=Math.max(0,t-r),g=Math.min(c,20);d=v*g,v>0&&p.push(`Income replacement covers ${g} years of your net income contribution (${e(v)}/year).`);const y={none:0,partial:25e3,full:5e4,premium:8e4};m=s*y[l],m>0&&p.push(`Education funding assumes ${e(y[l])} per child for college expenses.`);const h=Math.max(0,d+u+m+15e3-currentSavings),f=h/1e3*(30>o?.15:40>o?.2:50>o?.35:.75)*12/12,b=(c>20?30:c>15?20:15)+"-year term life insurance recommended to cover dependents until retirement.";return currentSavings>0&&p.push(`Your existing savings of ${e(currentSavings)} reduces the coverage needed.`),p.push("Consider term life insurance as it's typically the most cost-effective for family protection."),{totalCoverage:h,incomeReplacement:d,debtCoverage:u,educationFunding:m,finalExpenses:15e3,monthlyPremium:f,termRecommendation:b,explanation:p.join(" ")}})(t,0,i,0,a,o,r,parseInt(document.getElementById("years-to-retirement").value),document.getElementById("college-planning").value);(t=>{document.getElementById("total-coverage").textContent=e(t.totalCoverage),document.getElementById("income-replacement").textContent=e(t.incomeReplacement),document.getElementById("debt-coverage").textContent=e(t.debtCoverage),document.getElementById("education-funding").textContent=e(t.educationFunding),document.getElementById("final-expenses").textContent=e(t.finalExpenses),document.getElementById("premium-estimate").textContent=`Approximately ${e(t.monthlyPremium)}/month`,document.getElementById("term-recommendation").textContent=t.termRecommendation,document.getElementById("life-explanation").textContent=t.explanation,n.classList.remove("hidden"),n.scrollIntoView({behavior:"smooth",block:"start"})})(s),"undefined"!=typeof gtag&&gtag("event","calculator_use",{event_category:"engagement",event_label:"life_insurance_calculator",custom_parameters:{annual_income:t,num_children:r,coverage_amount:s.totalCoverage}})}),document.getElementById("share-life-results").addEventListener("click",()=>{const e=window.location.href,t="I just calculated my life insurance needs! This calculator helped me determine the right coverage.";navigator.share?navigator.share({title:"Life Insurance Calculator Results",text:t,url:e}):navigator.clipboard.writeText(t+" "+e).then(()=>{alert("Results copied to clipboard!")})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("petInsuranceForm"),t=document.getElementById("results");e.addEventListener("submit",e=>{e.preventDefault(),function(){const e=document.getElementById("petType").value,n=document.getElementById("petAge").value,i=document.getElementById("breedCategory").value,a=document.getElementById("location").value,o=document.querySelector('input[name="coverageType"]:checked').value,r=parseInt(document.getElementById("deductible").value),s=parseInt(document.getElementById("reimbursementRate").value),c=Array.from(document.querySelectorAll('input[name="addons"]:checked')).map(e=>e.value);let l=0;l="dog"===e?35:25,l*={puppy:.8,young:1,adult:1.3,senior:1.8}[n],l*={mixed:.9,small:1,medium:1.1,large:1.2,giant:1.4}[i],l*={rural:.8,suburban:1,urban:1.2,metro:1.4}[a],"accident"===o&&(l*=.4),l*={100:1.3,250:1,500:.8,1e3:.6}[r],l*={70:.85,80:1,90:1.2}[s];let d=0;c.forEach(e=>{switch(e){case"wellness":d+=20;break;case"dental":d+=12;break;case"alternative":d+=7}});const u=Math.round(l+d),m=12*u,p=((e,t,n)=>{let i=0;return i="comprehensive"===t?"dog"===e?25e3:18e3:"dog"===e?12e3:8e3,Math.max(0,i-12*n*("dog"===e?12:15))})(e,o,u);document.getElementById("monthlyPremium").textContent="$"+u,document.getElementById("annualCost").textContent="$"+m.toLocaleString(),document.getElementById("lifetimeSavings").textContent="$"+p.toLocaleString(),((e,t,n,i)=>{const a=document.getElementById("coverageSummary");let o="";"comprehensive"===e?(o+="<div>✅ Accidents and injuries covered</div>",o+="<div>✅ Illnesses and chronic conditions covered</div>",o+="<div>✅ Diagnostic tests and treatments covered</div>",o+="<div>✅ Prescription medications covered</div>"):(o+="<div>✅ Accidents and injuries covered</div>",o+="<div>❌ Illnesses not covered (accident-only plan)</div>"),o+=`<div>💰 $${t} annual deductible</div>`,o+=`<div>📊 ${n}% reimbursement rate</div>`,i.length>0&&(o+='<div class="mt-2 pt-2 border-t border-gray-200 dark:border-gray-600">',o+='<div class="font-medium">Add-on Coverage:</div>',i.includes("wellness")&&(o+="<div>✅ Wellness & routine care</div>"),i.includes("dental")&&(o+="<div>✅ Dental coverage</div>"),i.includes("alternative")&&(o+="<div>✅ Alternative therapies</div>"),o+="</div>"),a.innerHTML=o})(o,r,s,c),((e,t,n)=>{const i=document.getElementById("savingsTips");let a="";"senior"===e&&(a+="<li>Consider enrolling younger pets early for better rates</li>"),500>t&&(a+="<li>Higher deductibles can reduce monthly premiums significantly</li>"),n.includes("wellness")||(a+="<li>Wellness coverage can save money on routine vet visits</li>"),a+="<li>Multi-pet discounts available with most insurers (5-10% savings)</li>",a+="<li>Annual payment discounts can save 5-15% vs monthly payments</li>",a+="<li>Some employers offer pet insurance as a voluntary benefit</li>",i.innerHTML=a})(n,r,c),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})}()})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("business-insurance-calculator"),t=document.getElementById("business-insurance-results");e?.addEventListener("submit",n=>{n.preventDefault();const i=new FormData(e);(e=>{const t=document.getElementById("total-cost");t&&(t.textContent="$"+e.totalCost.toLocaleString());const n=document.getElementById("coverage-breakdown");n&&(n.innerHTML=e.coverageItems.map(e=>`\n        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded">\n          <div>\n            <div class="font-medium text-gray-900 dark:text-white">${e.name}</div>\n            <div class="text-sm text-gray-600 dark:text-gray-300">${e.description}</div>\n          </div>\n          <div class="font-semibold text-blue-600 dark:text-blue-400">\n            $${e.cost.toLocaleString()}\n          </div>\n        </div>\n      `).join(""));const i=document.getElementById("coverage-limits");i&&(i.innerHTML=e.coverageLimits.map(e=>`\n        <div class="flex justify-between text-sm">\n          <span class="text-gray-600 dark:text-gray-300">${e.type}:</span>\n          <span class="font-medium text-gray-900 dark:text-white">${e.limit}</span>\n        </div>\n      `).join(""));const a=document.getElementById("risk-analysis");if(a){const t={Low:"Your business has relatively low risk exposure. Basic coverage should provide adequate protection.",Medium:"Your business has moderate risk factors. Standard coverage with professional liability is recommended.",High:"Your business has elevated risk exposure. Comprehensive coverage including cyber liability is strongly recommended."};a.textContent=t[e.riskLevel]||t.Medium}})((e=>{let t=0;const n=[],i=[];let a="Low";const o={retail:1.2,restaurant:2.8,construction:3.5,professional:1.8,healthcare:4.2,manufacturing:2.2,technology:1.5,"real-estate":2.1,education:1.3,other:2},r=o[e.industry]||2,s=e.annualRevenue/1e5;let c=r*s*400;if(e.publicFacing&&(c*=1.5),n.push({name:"General Liability Insurance",cost:Math.round(c),description:"Protection against third-party injury and property damage claims"}),i.push({type:"General Liability",limit:`$${Math.max(1e6,2*e.annualRevenue).toLocaleString()} per occurrence`}),t+=c,e.professionalServices||"professional"===e.industry||"healthcare"===e.industry){const o=Math.round(r*s*600);n.push({name:"Professional Liability Insurance",cost:o,description:"Coverage for professional errors and omissions"}),i.push({type:"Professional Liability",limit:`$${Math.max(1e6,e.annualRevenue).toLocaleString()} per claim`}),t+=o,a="Medium"}if(e.propertyValue>0){const a=Math.round(.008*e.propertyValue);n.push({name:"Commercial Property Insurance",cost:a,description:"Coverage for business property, equipment, and inventory"}),i.push({type:"Property Insurance",limit:`$${e.propertyValue.toLocaleString()} replacement cost`}),t+=a}if(e.employees>0){const a=Math.round(5e4*e.employees*((o[e.industry]||2)/100));n.push({name:"Workers' Compensation Insurance",cost:a,description:"Required coverage for employee workplace injuries"}),i.push({type:"Workers' Compensation",limit:"State-required minimums plus employer liability"}),t+=a}if(e.handlesData||"technology"===e.industry||"healthcare"===e.industry){const e=Math.round(Math.max(800,500*s));n.push({name:"Cyber Liability Insurance",cost:e,description:"Protection against data breaches and cyber attacks"}),i.push({type:"Cyber Liability",limit:"$1,000,000 per incident with breach response"}),t+=e,a="High"}if(e.ownsVehicles){const e=1800;n.push({name:"Commercial Auto Insurance",cost:e,description:"Coverage for business-owned or used vehicles"}),i.push({type:"Commercial Auto",limit:"$1,000,000 combined single limit"}),t+=e}return t*={basic:.8,standard:1,comprehensive:1.3}[e.coverageLevel]||1,t*={500:1.15,1e3:1,2500:.88,5e3:.75}[e.deductible]||1,{totalCost:Math.round(t),coverageItems:n,coverageLimits:i,riskLevel:a,inputs:e}})({industry:i.get("industry"),businessSize:i.get("businessSize"),annualRevenue:parseInt(i.get("annualRevenue"))||0,employees:parseInt(i.get("employees"))||0,propertyValue:parseInt(i.get("propertyValue"))||0,coverageLevel:i.get("coverageLevel"),deductible:parseInt(i.get("deductible"))||1e3,publicFacing:i.has("publicFacing"),handlesData:i.has("handlesData"),professionalServices:i.has("professionalServices"),ownsVehicles:i.has("ownsVehicles")})),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("disability-calculator"),t=document.getElementById("results");e.addEventListener("submit",e=>{e.preventDefault(),(()=>{const e=parseFloat(document.getElementById("annual-income").value),n=parseInt(document.getElementById("age").value),i=document.querySelector('input[name="gender"]:checked').value,a=document.getElementById("occupation").value,o=parseFloat(document.getElementById("current-coverage").value)||0,r=parseFloat(document.getElementById("monthly-expenses").value),s=e/12,c=Math.min(.65*s,1.2*r),l=Math.max(0,c-o);let d=.02;switch(n>50?d+=.005:n>40&&(d+=.003),"female"===i&&(d+=.002),a){case"professional":break;case"skilled":d+=.003;break;case"physical":d+=.006}const u=e*d,m=c/s*100,p=u/e*100;document.getElementById("recommended-coverage").textContent=`$${c.toLocaleString()}/month`,document.getElementById("coverage-gap").textContent=l>0?`$${l.toLocaleString()}/month`:"Fully Covered",document.getElementById("estimated-premium").textContent=`$${u.toLocaleString()}/year`,document.getElementById("replacement-ratio").textContent=m.toFixed(1)+"%",document.getElementById("premium-percentage").textContent=p.toFixed(2)+"%";const v=[];l>0&&v.push(`Consider purchasing an additional $${l.toLocaleString()}/month in disability coverage.`),50>m&&v.push("Your current coverage may not be sufficient to maintain your lifestyle during a disability."),p>3&&v.push("Consider a longer waiting period to reduce premium costs."),"professional"===a&&v.push('Look for "own-occupation" coverage given your professional status.'),40>n&&v.push("Consider a future increase option to grow your coverage as your income increases."),v.push("Add a cost-of-living adjustment (COLA) rider to protect against inflation."),0===o&&v.push("Start with basic coverage and enhance it over time as your budget allows.");const g=document.getElementById("recommendation-list");g.innerHTML="",v.forEach(e=>{const t=document.createElement("li");t.textContent="• "+e,g.appendChild(t)}),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth"})})()})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("travel-insurance-calculator"),t=document.getElementById("travel-insurance-results");e?.addEventListener("submit",n=>{n.preventDefault();const i=new FormData(e);(e=>{const t=document.getElementById("total-premium");t&&(t.textContent="$"+e.totalPremium.toLocaleString());const n=document.getElementById("cost-percentage");n&&(n.textContent=e.costPercentage+"% of trip cost");const i=document.getElementById("coverage-summary");i&&(i.innerHTML=e.coverageSummary.map(e=>`\n        <div class="flex justify-between text-sm">\n          <span class="text-gray-600 dark:text-gray-300">${e.type}:</span>\n          <span class="font-medium text-gray-900 dark:text-white">${e.limit}</span>\n        </div>\n      `).join(""));const a=document.getElementById("policy-recommendations");a&&(a.innerHTML=e.recommendations.map(e=>`\n        <div class="flex items-start">\n          <span class="w-2 h-2 bg-purple-500 rounded-full mr-2 mt-2 flex-shrink-0"></span>\n          <span class="text-sm text-gray-700 dark:text-gray-300">${e}</span>\n        </div>\n      `).join(""));const o=document.getElementById("destination-advice");o&&(o.textContent=e.destinationAdvice)})((e=>{let t=0;const n=[],i=[];let a="";t=e.tripCost*({domestic:.04,canada:.05,europe:.06,"asia-pacific":.08,caribbean:.07,"south-america":.09,africa:.12,"middle-east":.11,worldwide:.1}[e.destinationType]||.08)*({leisure:1,business:.9,cruise:1.2,adventure:1.8,family:1.1,honeymoon:1.3,group:.85}[e.tripType]||1)*({basic:.7,comprehensive:1,premium:1.4,"medical-only":.4}[e.coverageType]||1),65>e.oldestTraveler?50>e.oldestTraveler?30>e.oldestTraveler||(t*=1.2):t*=1.5:t*=2,e.tripLength>30?t*=1.3:e.tripLength>14&&(t*=1.1),e.travelers>1&&(t*=1+.8*(e.travelers-1)),e.preExisting&&(t*=1.25,i.push("Pre-existing condition waiver included - purchase within 10-21 days of initial deposit")),e.adventureSports&&(t*=1.5,i.push("Adventure sports coverage included - verify specific activities are covered")),e.cancelAnyReason&&(t*=1.6,i.push("Cancel for Any Reason provides 75% reimbursement for any reason")),e.rentalCar&&(t+=50,i.push("Rental car coverage includes collision damage and theft protection")),t*={0:1,100:.9,250:.85,500:.8}[e.deductible]||1,"medical-only"!==e.coverageType&&n.push({type:"Trip Cancellation/Interruption",limit:`$${e.tripCost.toLocaleString()} (100% of trip cost)`}),n.push({type:"Emergency Medical",limit:"$"+e.medicalLimit.toLocaleString()}),n.push({type:"Emergency Evacuation",limit:"$1,000,000"}),"medical-only"!==e.coverageType&&(n.push({type:"Baggage Coverage",limit:"$2,500 per person"}),n.push({type:"Travel Delay",limit:"$1,500 per incident"})),a={domestic:"For US travel, focus on trip cancellation and medical coverage gaps from your regular insurance.",canada:"Canada has excellent healthcare, but ensure coverage for prescription medications and emergency evacuation.",europe:"Consider Schengen visa requirements (€30,000 minimum medical). Winter sports may need additional coverage.","asia-pacific":"Higher medical evacuation costs due to remote areas. Consider monsoon season and political stability.",caribbean:"Hurricane season coverage essential. Water sports and diving coverage may need special attention.","south-america":"Political unrest and adventure activity coverage important. Higher medical evacuation costs.",africa:"Comprehensive medical coverage essential. Consider evacuation insurance and political unrest coverage.","middle-east":"Political situation coverage and higher medical limits recommended. Check travel advisories.",worldwide:"Maximum coverage recommended for diverse risks. Consider annual policy if traveling frequently."}[e.destinationType]||"Consult with travel insurance specialist for destination-specific advice.";const o=Math.round(t);return{totalPremium:o,costPercentage:(o/e.tripCost*100).toFixed(1),coverageSummary:n,recommendations:i,destinationAdvice:a}})({destinationType:i.get("destinationType"),tripType:i.get("tripType"),tripCost:parseInt(i.get("tripCost"))||0,tripLength:parseInt(i.get("tripLength"))||0,travelers:parseInt(i.get("travelers"))||0,oldestTraveler:parseInt(i.get("oldestTraveler"))||0,coverageType:i.get("coverageType"),medicalLimit:parseInt(i.get("medicalLimit"))||0,deductible:parseInt(i.get("deductible"))||0,preExisting:i.has("preExisting"),adventureSports:i.has("adventureSports"),cancelAnyReason:i.has("cancelAnyReason"),rentalCar:i.has("rentalCar")})),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})})});
