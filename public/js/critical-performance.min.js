// Critical Performance Optimizations - Minified
(function(){const t=localStorage.getItem('theme')||(window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');'dark'===t&&document.documentElement.classList.add('dark')})();

// Optimized Mobile Menu Handler
window.toggleMobileMenu=function(){const e=document.getElementById('mobile-menu');e&&(e.classList.toggle('translate-x-full'),e.classList.toggle('translate-x-0'))};

// Optimized Search Toggle
window.toggleSearch=function(){const e=document.getElementById('search-overlay');e&&(e.classList.toggle('hidden'),e.classList.contains('hidden')||document.getElementById('search-input').focus())};

// Performance-optimized Progressive Loading
const ProgressiveLoading={init(){this.setupLazyLoading()},setupLazyLoading(){const e=new IntersectionObserver(((t,n)=>{t.forEach((t=>{if(t.isIntersecting){const a=t.target;a.dataset.src&&('IMG'===a.tagName?this.loadImage(a):'IFRAME'===a.tagName&&this.loadIframe(a),n.unobserve(a))}}))}),{rootMargin:'50px 0px',threshold:.01});document.querySelectorAll('[data-src]').forEach((t=>e.observe(t)))},loadImage(e){const t=new Image;t.onload=()=>{e.src=e.dataset.src,e.removeAttribute('data-src'),e.classList.remove('opacity-0'),e.classList.add('opacity-100')},t.onerror=()=>{e.alt='Image not available',e.classList.add('bg-gray-100')},t.src=e.dataset.src},loadIframe(e){e.src=e.dataset.src,e.removeAttribute('data-src')}};

// Auto-initialize on DOM ready
'loading'===document.readyState?document.addEventListener('DOMContentLoaded',(()=>ProgressiveLoading.init())):ProgressiveLoading.init();

// Performance-optimized Analytics
window.trackEvent=function(e,t,n){window.gtag&&gtag('event',e,{event_category:t,event_label:n})};

// Critical CSS injection for above-the-fold content
if('requestIdleCallback'in window)requestIdleCallback((function(){const e=document.createElement('link');e.rel='stylesheet',e.href='/assets/css/main.css',document.head.appendChild(e)}));else setTimeout((function(){const e=document.createElement('link');e.rel='stylesheet',e.href='/assets/css/main.css',document.head.appendChild(e)}),16);