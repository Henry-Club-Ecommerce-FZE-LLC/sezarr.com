document.addEventListener("DOMContentLoaded",function(){document.getElementById("auto-calc-form");const e=document.getElementById("calculate-btn"),t=document.getElementById("results");e.addEventListener("click",function(){const e=parseInt(document.getElementById("vehicle-value").value)||25e3,n=document.getElementById("vehicle-age").value,a=document.getElementById("loan-status").value,i=document.getElementById("net-worth").value,o=document.getElementById("income").value,r=function(e,t,n,a,i,o){let r,s,c,l,d,u=!1,m=[];"very-high"===a||"very-high"===i?(r="$500,000",s="$1,000,000",c="$100,000",m.push("High liability limits protect your significant assets from lawsuits.")):"high"===a||"high"===i?(r="$250,000",s="$500,000",c="$50,000",m.push("Higher liability limits recommended to protect your assets.")):"medium"===a||"medium"===i?(r="$100,000",s="$300,000",c="$25,000",m.push("Moderate liability limits provide good protection for your income level.")):(r="$50,000",s="$100,000",c="$25,000",m.push("State minimum may be sufficient given your current assets."));"CA"!==o&&"NY"!==o||m.push("Your state has higher average claim costs, consider higher limits.");"financed"===n?(u=!0,m.push("Lender requires comprehensive and collision coverage.")):e>1e4?(u=!0,m.push("Vehicle value justifies full coverage protection.")):"old"===t&&e<5e3?(u=!1,m.push("Older vehicle may not need full coverage - compare premiums vs. value.")):u=!0;"very-high"===i||"very-high"===a?(l="$1,000",d="$1,000",m.push("Higher deductibles reduce premiums and you can afford out-of-pocket costs.")):"high"===i||"high"===a?(l="$500",d="$500"):(l="$250",d="$250",m.push("Lower deductibles reduce financial shock if you need to file a claim."));return{liabilityPerson:r,liabilityAccident:s,propertyDamage:c,compDeductible:l,collisionDeductible:d,needsFullCoverage:u?"Yes":"No",explanation:m.join(" ")}}(e,n,a,i,o,document.getElementById("state").value);!function(e){document.getElementById("liability-person").textContent=e.liabilityPerson,document.getElementById("liability-accident").textContent=e.liabilityAccident,document.getElementById("property-damage").textContent=e.propertyDamage,document.getElementById("comp-deductible").textContent=e.compDeductible,document.getElementById("collision-deductible").textContent=e.collisionDeductible,document.getElementById("full-coverage").textContent=e.needsFullCoverage,document.getElementById("explanation").textContent=e.explanation,t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})}(r),"undefined"!=typeof gtag&&gtag("event","calculator_use",{event_category:"engagement",event_label:"auto_insurance_calculator",custom_parameters:{vehicle_value:e,net_worth:i,income:o}})}),document.getElementById("share-results").addEventListener("click",function(){const e=window.location.href,t="I just calculated my auto insurance needs! Check out this helpful calculator.";navigator.share?navigator.share({title:"Auto Insurance Calculator Results",text:t,url:e}):navigator.clipboard.writeText(t+" "+e).then(()=>{alert("Results copied to clipboard!")})})}),document.addEventListener("DOMContentLoaded",function(){document.getElementById("life-calc-form");const e=document.getElementById("calculate-life-btn"),t=document.getElementById("life-results");function n(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}e.addEventListener("click",function(){const e=parseInt(document.getElementById("annual-income").value)||0,a=(parseInt(document.getElementById("current-savings").value),parseInt(document.getElementById("total-debts").value)||0),i=(parseInt(document.getElementById("monthly-expenses").value),parseInt(document.getElementById("your-age").value)),o=parseInt(document.getElementById("spouse-income").value)||0,r=parseInt(document.getElementById("num-children").value),s=function(e,t,a,i,o,r,s,c,l){let d=0,u=a,m=0,p=15e3,g=[];const v=Math.max(0,e-r),y=Math.min(c,20);d=v*y,v>0&&g.push(`Income replacement covers ${y} years of your net income contribution (${n(v)}/year).`);const h={none:0,partial:25e3,full:5e4,premium:8e4};m=s*h[l],m>0&&g.push(`Education funding assumes ${n(h[l])} per child for college expenses.`);const f=d+u+m+p,b=Math.max(0,f-currentSavings),I=b/1e3*(o<30?.15:o<40?.2:o<50?.35:.75)*12/12,E=c>20?30:c>15?20:15,x=`${E}-year term life insurance recommended to cover dependents until retirement.`;currentSavings>0&&g.push(`Your existing savings of ${n(currentSavings)} reduces the coverage needed.`);return g.push("Consider term life insurance as it's typically the most cost-effective for family protection."),{totalCoverage:b,incomeReplacement:d,debtCoverage:u,educationFunding:m,finalExpenses:p,monthlyPremium:I,termRecommendation:x,explanation:g.join(" ")}}(e,0,a,0,i,o,r,parseInt(document.getElementById("years-to-retirement").value),document.getElementById("college-planning").value);!function(e){document.getElementById("total-coverage").textContent=n(e.totalCoverage),document.getElementById("income-replacement").textContent=n(e.incomeReplacement),document.getElementById("debt-coverage").textContent=n(e.debtCoverage),document.getElementById("education-funding").textContent=n(e.educationFunding),document.getElementById("final-expenses").textContent=n(e.finalExpenses),document.getElementById("premium-estimate").textContent=`Approximately ${n(e.monthlyPremium)}/month`,document.getElementById("term-recommendation").textContent=e.termRecommendation,document.getElementById("life-explanation").textContent=e.explanation,t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})}(s),"undefined"!=typeof gtag&&gtag("event","calculator_use",{event_category:"engagement",event_label:"life_insurance_calculator",custom_parameters:{annual_income:e,num_children:r,coverage_amount:s.totalCoverage}})}),document.getElementById("share-life-results").addEventListener("click",function(){const e=window.location.href,t="I just calculated my life insurance needs! This calculator helped me determine the right coverage.";navigator.share?navigator.share({title:"Life Insurance Calculator Results",text:t,url:e}):navigator.clipboard.writeText(t+" "+e).then(()=>{alert("Results copied to clipboard!")})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("business-insurance-calculator"),t=document.getElementById("business-insurance-results");e?.addEventListener("submit",function(n){n.preventDefault();const a=new FormData(e),i=function(e){let t=0;const n=[],a=[];let i="Low";const o={retail:1.2,restaurant:2.8,construction:3.5,professional:1.8,healthcare:4.2,manufacturing:2.2,technology:1.5,"real-estate":2.1,education:1.3,other:2},r=o[e.industry]||2,s=e.annualRevenue/1e5;let c=r*s*400;e.publicFacing&&(c*=1.5);if(n.push({name:"General Liability Insurance",cost:Math.round(c),description:"Protection against third-party injury and property damage claims"}),a.push({type:"General Liability",limit:`$${Math.max(1e6,2*e.annualRevenue).toLocaleString()} per occurrence`}),t+=c,e.professionalServices||"professional"===e.industry||"healthcare"===e.industry){const o=Math.round(r*s*600);n.push({name:"Professional Liability Insurance",cost:o,description:"Coverage for professional errors and omissions"}),a.push({type:"Professional Liability",limit:`$${Math.max(1e6,e.annualRevenue).toLocaleString()} per claim`}),t+=o,i="Medium"}if(e.propertyValue>0){const i=Math.round(.008*e.propertyValue);n.push({name:"Commercial Property Insurance",cost:i,description:"Coverage for business property, equipment, and inventory"}),a.push({type:"Property Insurance",limit:`$${e.propertyValue.toLocaleString()} replacement cost`}),t+=i}if(e.employees>0){const i=5e4*e.employees,r=o[e.industry]||2,s=Math.round(i*(r/100));n.push({name:"Workers' Compensation Insurance",cost:s,description:"Required coverage for employee workplace injuries"}),a.push({type:"Workers' Compensation",limit:"State-required minimums plus employer liability"}),t+=s}if(e.handlesData||"technology"===e.industry||"healthcare"===e.industry){const e=Math.round(Math.max(800,500*s));n.push({name:"Cyber Liability Insurance",cost:e,description:"Protection against data breaches and cyber attacks"}),a.push({type:"Cyber Liability",limit:"$1,000,000 per incident with breach response"}),t+=e,i="High"}if(e.ownsVehicles){const e=1800;n.push({name:"Commercial Auto Insurance",cost:e,description:"Coverage for business-owned or used vehicles"}),a.push({type:"Commercial Auto",limit:"$1,000,000 combined single limit"}),t+=e}t*={basic:.8,standard:1,comprehensive:1.3}[e.coverageLevel]||1;return t*={500:1.15,1e3:1,2500:.88,5e3:.75}[e.deductible]||1,{totalCost:Math.round(t),coverageItems:n,coverageLimits:a,riskLevel:i,inputs:e}}({industry:a.get("industry"),businessSize:a.get("businessSize"),annualRevenue:parseInt(a.get("annualRevenue"))||0,employees:parseInt(a.get("employees"))||0,propertyValue:parseInt(a.get("propertyValue"))||0,coverageLevel:a.get("coverageLevel"),deductible:parseInt(a.get("deductible"))||1e3,publicFacing:a.has("publicFacing"),handlesData:a.has("handlesData"),professionalServices:a.has("professionalServices"),ownsVehicles:a.has("ownsVehicles")});!function(e){const t=document.getElementById("total-cost");t&&(t.textContent=`$${e.totalCost.toLocaleString()}`);const n=document.getElementById("coverage-breakdown");n&&(n.innerHTML=e.coverageItems.map(e=>`\n        <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded">\n          <div>\n            <div class="font-medium text-gray-900 dark:text-white">${e.name}</div>\n            <div class="text-sm text-gray-600 dark:text-gray-300">${e.description}</div>\n          </div>\n          <div class="font-semibold text-blue-600 dark:text-blue-400">\n            $${e.cost.toLocaleString()}\n          </div>\n        </div>\n      `).join(""));const a=document.getElementById("coverage-limits");a&&(a.innerHTML=e.coverageLimits.map(e=>`\n        <div class="flex justify-between text-sm">\n          <span class="text-gray-600 dark:text-gray-300">${e.type}:</span>\n          <span class="font-medium text-gray-900 dark:text-white">${e.limit}</span>\n        </div>\n      `).join(""));const i=document.getElementById("risk-analysis");if(i){const t={Low:"Your business has relatively low risk exposure. Basic coverage should provide adequate protection.",Medium:"Your business has moderate risk factors. Standard coverage with professional liability is recommended.",High:"Your business has elevated risk exposure. Comprehensive coverage including cyber liability is strongly recommended."};i.textContent=t[e.riskLevel]||t.Medium}}(i),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("petInsuranceForm"),t=document.getElementById("results");e.addEventListener("submit",function(e){e.preventDefault(),function(){const e=document.getElementById("petType").value,n=document.getElementById("petAge").value,a=document.getElementById("breedCategory").value,i=document.getElementById("location").value,o=document.querySelector('input[name="coverageType"]:checked').value,r=parseInt(document.getElementById("deductible").value),s=parseInt(document.getElementById("reimbursementRate").value),c=Array.from(document.querySelectorAll('input[name="addons"]:checked')).map(e=>e.value);let l=0;l="dog"===e?35:25;l*={puppy:.8,young:1,adult:1.3,senior:1.8}[n];l*={mixed:.9,small:1,medium:1.1,large:1.2,giant:1.4}[a];l*={rural:.8,suburban:1,urban:1.2,metro:1.4}[i],"accident"===o&&(l*=.4);l*={100:1.3,250:1,500:.8,1e3:.6}[r];l*={70:.85,80:1,90:1.2}[s];let d=0;c.forEach(e=>{switch(e){case"wellness":d+=20;break;case"dental":d+=12;break;case"alternative":d+=7}});const u=Math.round(l+d),m=12*u,p=function(e,t,n){const a="dog"===e?12:15,i=12*n*a;let o=0;o="comprehensive"===t?"dog"===e?25e3:18e3:"dog"===e?12e3:8e3;return Math.max(0,o-i)}(e,o,u);document.getElementById("monthlyPremium").textContent=`$${u}`,document.getElementById("annualCost").textContent=`$${m.toLocaleString()}`,document.getElementById("lifetimeSavings").textContent=`$${p.toLocaleString()}`,function(e,t,n,a){const i=document.getElementById("coverageSummary");let o="";"comprehensive"===e?(o+="<div>✅ Accidents and injuries covered</div>",o+="<div>✅ Illnesses and chronic conditions covered</div>",o+="<div>✅ Diagnostic tests and treatments covered</div>",o+="<div>✅ Prescription medications covered</div>"):(o+="<div>✅ Accidents and injuries covered</div>",o+="<div>❌ Illnesses not covered (accident-only plan)</div>");o+=`<div>💰 $${t} annual deductible</div>`,o+=`<div>📊 ${n}% reimbursement rate</div>`,a.length>0&&(o+='<div class="mt-2 pt-2 border-t border-gray-200 dark:border-gray-600">',o+='<div class="font-medium">Add-on Coverage:</div>',a.includes("wellness")&&(o+="<div>✅ Wellness & routine care</div>"),a.includes("dental")&&(o+="<div>✅ Dental coverage</div>"),a.includes("alternative")&&(o+="<div>✅ Alternative therapies</div>"),o+="</div>");i.innerHTML=o}(o,r,s,c),function(e,t,n){const a=document.getElementById("savingsTips");let i="";"senior"===e&&(i+="<li>Consider enrolling younger pets early for better rates</li>");t<500&&(i+="<li>Higher deductibles can reduce monthly premiums significantly</li>");n.includes("wellness")||(i+="<li>Wellness coverage can save money on routine vet visits</li>");i+="<li>Multi-pet discounts available with most insurers (5-10% savings)</li>",i+="<li>Annual payment discounts can save 5-15% vs monthly payments</li>",i+="<li>Some employers offer pet insurance as a voluntary benefit</li>",a.innerHTML=i}(n,r,c),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})}()})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("travel-insurance-calculator"),t=document.getElementById("travel-insurance-results");e?.addEventListener("submit",function(n){n.preventDefault();const a=new FormData(e),i=function(e){let t=0;const n=[],a=[];let i="";const o={leisure:1,business:.9,cruise:1.2,adventure:1.8,family:1.1,honeymoon:1.3,group:.85},r={basic:.7,comprehensive:1,premium:1.4,"medical-only":.4},s={domestic:.04,canada:.05,europe:.06,"asia-pacific":.08,caribbean:.07,"south-america":.09,africa:.12,"middle-east":.11,worldwide:.1}[e.destinationType]||.08,c=o[e.tripType]||1,l=r[e.coverageType]||1;t=e.tripCost*s*c*l,e.oldestTraveler>=65?t*=2:e.oldestTraveler>=50?t*=1.5:e.oldestTraveler>=30&&(t*=1.2);e.tripLength>30?t*=1.3:e.tripLength>14&&(t*=1.1);e.travelers>1&&(t*=1+.8*(e.travelers-1));e.preExisting&&(t*=1.25,a.push("Pre-existing condition waiver included - purchase within 10-21 days of initial deposit"));e.adventureSports&&(t*=1.5,a.push("Adventure sports coverage included - verify specific activities are covered"));e.cancelAnyReason&&(t*=1.6,a.push("Cancel for Any Reason provides 75% reimbursement for any reason"));e.rentalCar&&(t+=50,a.push("Rental car coverage includes collision damage and theft protection"));t*={0:1,100:.9,250:.85,500:.8}[e.deductible]||1,"medical-only"!==e.coverageType&&n.push({type:"Trip Cancellation/Interruption",limit:`$${e.tripCost.toLocaleString()} (100% of trip cost)`});n.push({type:"Emergency Medical",limit:`$${e.medicalLimit.toLocaleString()}`}),n.push({type:"Emergency Evacuation",limit:"$1,000,000"}),"medical-only"!==e.coverageType&&(n.push({type:"Baggage Coverage",limit:"$2,500 per person"}),n.push({type:"Travel Delay",limit:"$1,500 per incident"}));i={domestic:"For US travel, focus on trip cancellation and medical coverage gaps from your regular insurance.",canada:"Canada has excellent healthcare, but ensure coverage for prescription medications and emergency evacuation.",europe:"Consider Schengen visa requirements (€30,000 minimum medical). Winter sports may need additional coverage.","asia-pacific":"Higher medical evacuation costs due to remote areas. Consider monsoon season and political stability.",caribbean:"Hurricane season coverage essential. Water sports and diving coverage may need special attention.","south-america":"Political unrest and adventure activity coverage important. Higher medical evacuation costs.",africa:"Comprehensive medical coverage essential. Consider evacuation insurance and political unrest coverage.","middle-east":"Political situation coverage and higher medical limits recommended. Check travel advisories.",worldwide:"Maximum coverage recommended for diverse risks. Consider annual policy if traveling frequently."}[e.destinationType]||"Consult with travel insurance specialist for destination-specific advice.";const d=Math.round(t),u=(d/e.tripCost*100).toFixed(1);return{totalPremium:d,costPercentage:u,coverageSummary:n,recommendations:a,destinationAdvice:i}}({destinationType:a.get("destinationType"),tripType:a.get("tripType"),tripCost:parseInt(a.get("tripCost"))||0,tripLength:parseInt(a.get("tripLength"))||0,travelers:parseInt(a.get("travelers"))||0,oldestTraveler:parseInt(a.get("oldestTraveler"))||0,coverageType:a.get("coverageType"),medicalLimit:parseInt(a.get("medicalLimit"))||0,deductible:parseInt(a.get("deductible"))||0,preExisting:a.has("preExisting"),adventureSports:a.has("adventureSports"),cancelAnyReason:a.has("cancelAnyReason"),rentalCar:a.has("rentalCar")});!function(e){const t=document.getElementById("total-premium");t&&(t.textContent=`$${e.totalPremium.toLocaleString()}`);const n=document.getElementById("cost-percentage");n&&(n.textContent=`${e.costPercentage}% of trip cost`);const a=document.getElementById("coverage-summary");a&&(a.innerHTML=e.coverageSummary.map(e=>`\n        <div class="flex justify-between text-sm">\n          <span class="text-gray-600 dark:text-gray-300">${e.type}:</span>\n          <span class="font-medium text-gray-900 dark:text-white">${e.limit}</span>\n        </div>\n      `).join(""));const i=document.getElementById("policy-recommendations");i&&(i.innerHTML=e.recommendations.map(e=>`\n        <div class="flex items-start">\n          <span class="w-2 h-2 bg-purple-500 rounded-full mr-2 mt-2 flex-shrink-0"></span>\n          <span class="text-sm text-gray-700 dark:text-gray-300">${e}</span>\n        </div>\n      `).join(""));const o=document.getElementById("destination-advice");o&&(o.textContent=e.destinationAdvice)}(i),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth",block:"start"})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("disability-calculator"),t=document.getElementById("results");e.addEventListener("submit",function(e){e.preventDefault(),function(){const e=parseFloat(document.getElementById("annual-income").value),n=parseInt(document.getElementById("age").value),a=document.querySelector('input[name="gender"]:checked').value,i=document.getElementById("occupation").value,o=parseFloat(document.getElementById("current-coverage").value)||0,r=parseFloat(document.getElementById("monthly-expenses").value),s=e/12,c=.65*s,l=1.2*r,d=Math.min(c,l),u=Math.max(0,d-o);let m=.02;n>50?m+=.005:n>40&&(m+=.003);"female"===a&&(m+=.002);switch(i){case"professional":break;case"skilled":m+=.003;break;case"physical":m+=.006}const p=e*m,g=d/s*100,v=p/e*100;document.getElementById("recommended-coverage").textContent=`$${d.toLocaleString()}/month`,document.getElementById("coverage-gap").textContent=u>0?`$${u.toLocaleString()}/month`:"Fully Covered",document.getElementById("estimated-premium").textContent=`$${p.toLocaleString()}/year`,document.getElementById("replacement-ratio").textContent=`${g.toFixed(1)}%`,document.getElementById("premium-percentage").textContent=`${v.toFixed(2)}%`;const y=[];u>0&&y.push(`Consider purchasing an additional $${u.toLocaleString()}/month in disability coverage.`);g<50&&y.push("Your current coverage may not be sufficient to maintain your lifestyle during a disability.");v>3&&y.push("Consider a longer waiting period to reduce premium costs.");"professional"===i&&y.push('Look for "own-occupation" coverage given your professional status.');n<40&&y.push("Consider a future increase option to grow your coverage as your income increases.");y.push("Add a cost-of-living adjustment (COLA) rider to protect against inflation."),0===o&&y.push("Start with basic coverage and enhance it over time as your budget allows.");const h=document.getElementById("recommendation-list");h.innerHTML="",y.forEach(e=>{const t=document.createElement("li");t.textContent="• "+e,h.appendChild(t)}),t.classList.remove("hidden"),t.scrollIntoView({behavior:"smooth"})}()})});
