---
import BaseLayout from '../../layouts/BaseLayout.astro';
import JsonLdScript from '../../components/JsonLdScript.astro';

const jsonLdData = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Pet Health Costs Calculator",
  "description": "Calculate potential pet health costs and compare with pet insurance premiums. Plan your pet's healthcare budget with our comprehensive calculator.",
  "applicationCategory": "FinanceApplication",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "provider": {
    "@type": "Organization",
    "name": "Sezarr Insurance Guide"
  }
};
---

<BaseLayout
  title="Pet Health Costs Calculator | Pet Insurance vs Out-of-Pocket Expenses"
  description="Calculate potential pet health costs and compare with pet insurance premiums. Estimate veterinary expenses and see if pet insurance saves money."
  canonical="https://sezarr.com/tools/pet-health-costs/"
>
  <JsonLdScript data={jsonLdData} />
  
  <div class="max-w-4xl mx-auto px-6 py-12">
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-6">
        Pet Health Costs Calculator
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
        Calculate potential veterinary costs and compare with pet insurance premiums to make informed decisions about your pet's healthcare budget.
      </p>
    </div>

    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 mb-12">
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-6">Pet Information</h2>
          
          <div class="space-y-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Pet Type
              </label>
              <select id="petType" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100">
                <option value="dog">Dog</option>
                <option value="cat">Cat</option>
                <option value="bird">Bird</option>
                <option value="rabbit">Rabbit</option>
                <option value="other">Other Small Pet</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Pet Age
              </label>
              <select id="petAge" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100">
                <option value="puppy">Puppy/Kitten (0-1 year)</option>
                <option value="young">Young Adult (1-3 years)</option>
                <option value="adult">Adult (3-7 years)</option>
                <option value="senior">Senior (7+ years)</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Breed Size (Dogs)
              </label>
              <select id="breedSize" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100">
                <option value="small">Small (under 25 lbs)</option>
                <option value="medium">Medium (25-60 lbs)</option>
                <option value="large">Large (60-90 lbs)</option>
                <option value="giant">Giant (over 90 lbs)</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Pre-existing Conditions?
              </label>
              <select id="preExisting" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100">
                <option value="none">None</option>
                <option value="minor">Minor conditions</option>
                <option value="major">Major conditions</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Location
              </label>
              <select id="location" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100">
                <option value="urban">Urban/Metropolitan</option>
                <option value="suburban">Suburban</option>
                <option value="rural">Rural</option>
              </select>
            </div>

            <button 
              onclick="calculatePetCosts()" 
              class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors"
            >
              Calculate Costs
            </button>
          </div>
        </div>

        <div id="results" class="bg-gray-50 dark:bg-gray-900 rounded-xl p-6" style="display: none;">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Cost Analysis</h3>
          <div id="resultsContent"></div>
        </div>
      </div>
    </div>

    <!-- Information Section -->
    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-white dark:bg-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Routine Care</h3>
        <ul class="space-y-2 text-gray-600 dark:text-gray-400 text-sm">
          <li class="flex justify-between">
            <span>Annual checkup</span>
            <span>$150-300</span>
          </li>
          <li class="flex justify-between">
            <span>Vaccinations</span>
            <span>$100-200</span>
          </li>
          <li class="flex justify-between">
            <span>Dental cleaning</span>
            <span>$300-800</span>
          </li>
          <li class="flex justify-between">
            <span>Spay/neuter</span>
            <span>$300-700</span>
          </li>
        </ul>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Common Conditions</h3>
        <ul class="space-y-2 text-gray-600 dark:text-gray-400 text-sm">
          <li class="flex justify-between">
            <span>Ear infection</span>
            <span>$200-500</span>
          </li>
          <li class="flex justify-between">
            <span>Skin allergies</span>
            <span>$300-1,200</span>
          </li>
          <li class="flex justify-between">
            <span>Broken bone</span>
            <span>$1,500-4,000</span>
          </li>
          <li class="flex justify-between">
            <span>Cancer treatment</span>
            <span>$5,000-15,000</span>
          </li>
        </ul>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Emergency Care</h3>
        <ul class="space-y-2 text-gray-600 dark:text-gray-400 text-sm">
          <li class="flex justify-between">
            <span>ER visit</span>
            <span>$500-2,000</span>
          </li>
          <li class="flex justify-between">
            <span>Surgery</span>
            <span>$2,000-8,000</span>
          </li>
          <li class="flex justify-between">
            <span>Hospitalization</span>
            <span>$1,000-5,000</span>
          </li>
          <li class="flex justify-between">
            <span>Specialist care</span>
            <span>$800-3,000</span>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <script is:inline>
    function calculatePetCosts() {
      const petType = document.getElementById('petType').value;
      const petAge = document.getElementById('petAge').value;
      const breedSize = document.getElementById('breedSize').value;
      const preExisting = document.getElementById('preExisting').value;
      const location = document.getElementById('location').value;

      // Base annual costs
      const baseCosts = {
        'dog': { 'small': 800, 'medium': 1000, 'large': 1200, 'giant': 1500 },
        'cat': { 'small': 600, 'medium': 600, 'large': 600, 'giant': 600 },
        'bird': { 'small': 400, 'medium': 400, 'large': 400, 'giant': 400 },
        'rabbit': { 'small': 500, 'medium': 500, 'large': 500, 'giant': 500 },
        'other': { 'small': 400, 'medium': 400, 'large': 400, 'giant': 400 }
      };

      // Age multipliers
      const ageMultipliers = {
        'puppy': 1.3,
        'young': 0.9,
        'adult': 1.0,
        'senior': 1.8
      };

      // Location multipliers
      const locationMultipliers = {
        'urban': 1.4,
        'suburban': 1.0,
        'rural': 0.7
      };

      // Pre-existing condition adjustments
      const preExistingMultipliers = {
        'none': 1.0,
        'minor': 1.5,
        'major': 2.5
      };

      const petSizeKey = petType === 'dog' ? breedSize : 'small';
      const baseCost = baseCosts[petType][petSizeKey] || 600;
      const ageMultiplier = ageMultipliers[petAge] || 1.0;
      const locationMultiplier = locationMultipliers[location] || 1.0;
      const preExistingMultiplier = preExistingMultipliers[preExisting] || 1.0;

      const annualRoutineCare = baseCost * ageMultiplier * locationMultiplier;
      const potentialEmergencyCosts = annualRoutineCare * 2.5 * preExistingMultiplier;
      const totalPotentialCosts = annualRoutineCare + potentialEmergencyCosts;

      // Insurance estimates
      const insuranceMultipliers = {
        'dog': petType === 'dog' ? (breedSize === 'large' || breedSize === 'giant' ? 1.3 : 1.0) : 1.0,
        'cat': 0.8,
        'bird': 0.6,
        'rabbit': 0.6,
        'other': 0.6
      };

      const monthlyInsurance = Math.round((annualRoutineCare * 0.6 * insuranceMultipliers[petType] * locationMultiplier) / 12);
      const annualInsurance = monthlyInsurance * 12;
      const insuranceWithDeductible = annualInsurance + 500; // Typical deductible

      const savings = totalPotentialCosts - insuranceWithDeductible;

      document.getElementById('results').style.display = 'block';
      document.getElementById('resultsContent').innerHTML = `
        <div class="space-y-4">
          <div class="bg-green-50 dark:bg-green-900/30 rounded-lg p-4">
            <div class="text-2xl font-bold text-green-600 dark:text-green-400">$${annualRoutineCare.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">Annual Routine Care</div>
          </div>
          
          <div class="bg-orange-50 dark:bg-orange-900/30 rounded-lg p-4">
            <div class="text-2xl font-bold text-orange-600 dark:text-orange-400">$${potentialEmergencyCosts.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">Potential Emergency Costs</div>
          </div>

          <div class="bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4">
            <div class="text-xl font-bold text-blue-600 dark:text-blue-400">$${monthlyInsurance}/month</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">Est. Insurance Premium</div>
            <div class="text-xs text-gray-500">($${annualInsurance.toLocaleString()}/year + $500 deductible)</div>
          </div>

          ${savings > 0 ? 
            `<div class="bg-green-100 dark:bg-green-800/30 rounded-lg p-4 border border-green-200 dark:border-green-700">
              <div class="text-lg font-semibold text-green-800 dark:text-green-200">Potential Savings: $${savings.toLocaleString()}</div>
              <div class="text-sm text-green-600 dark:text-green-400">Insurance could save money if major issues occur</div>
            </div>` :
            `<div class="bg-yellow-100 dark:bg-yellow-800/30 rounded-lg p-4 border border-yellow-200 dark:border-yellow-700">
              <div class="text-lg font-semibold text-yellow-800 dark:text-yellow-200">Self-Insurance Savings: $${Math.abs(savings).toLocaleString()}</div>
              <div class="text-sm text-yellow-600 dark:text-yellow-400">Consider setting aside money for emergencies</div>
            </div>`
          }
          
          <div class="text-xs text-gray-500 dark:text-gray-400 border-t pt-3">
            <p>*Estimates based on average veterinary costs. Actual expenses vary by location, pet health, and specific conditions.</p>
          </div>
        </div>
      `;
    }

    // Calculate on page load
    document.addEventListener('DOMContentLoaded', calculatePetCosts);
  </script>
</BaseLayout>